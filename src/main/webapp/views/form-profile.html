<div class="col-lg-12" style="width: 100%" ng-controller="personalInfoContrler">
    <section id="two" class=" alt " ng-controller="personalInfoContrler" style="background-color:#f9f9f9;"  window-exit>
        <section class="spotlight">
            <div class="image" style="width: 100%">
                <div class="headerpane">Patient Details</div>

                <div class="controlpers" id="mainselection">
                    <label class=" col-sm-2" id="mainselection">Title</label>
                    <select  name="titleselect" ng-model="formData.title" class="dropdownstyling yellow arrowupdown text"  ng-options="title for title in titleArray">
                        <option value="">--Select--</option> <!-- not selected / blank option -->
                    </select>
                </div>
                <div class="controlpers" >
                    <label class=" col-sm-2">First Name <em>*</em></label>
                    <input type="text" name="firstname" ng-minlength="3"
                           ng-maxlength="20" value="" ng-pattern="/^[a-zA-Z]*$/" ng-model="formData.firstname" class="textfeildname yellow" required/>
                    <p ng-show="userForm.firstname.$dirty && userForm.firstname.$error.required" class="help-block haserrors">First Name is Required.</p>
                    <p ng-show="userForm.firstname.$dirty && userForm.firstname.$error.pattern" class="help-block haserrors" >Please enter valid Name.</p>
                </div>
                <div class="controlpers">
                    <label class=" col-sm-2">Last Name <em>*</em></label>
                    <input type="text"  name="lastname" value=""  ng-pattern="/^[a-zA-Z]*$/" ng-model="formData.lastname" class="textfeildname yellow" required/>
                    <p ng-show="userForm.lastname.$dirty && userForm.lastname.$error.required" class="help-block haserrors" >Last Name is Required.</p>
                    <p ng-show="userForm.lastname.$dirty && userForm.lastname.$error.pattern" class="help-block haserrors" >Please enter valid Name.</p>
                </div>
                <div class="controlpers">
                    <label class=" col-sm-2">Sex</label>
                    <select  name="sexselect"  ng-model="formData.sex" class="dropdownstyling yellow arrowupdown text" ng-options="sex for sex in sexArray">
                        <option value="">--Select--</option>
                        <!-- not selected / blank option -->
                    </select>
                </div>
                <div class="controlpers">
                    <label class=" col-sm-21">Date of Birth<em>*</em></label>
                    <input type="text" readonly="true" ng-model="formData.birthdate" name="birthdate"  class="textfeildname yellow  text datepicker" required="" >
                    <p ng-show="userForm.birthdate.$dirty && userForm.birthdate.$error.required" class="help-block haserrors" >Last Name is Required.</p>
                    <p ng-show="userForm.birthdate.$dirty && userForm.birthdate.$error.pattern" class="help-block haserrors" >Please enter valid Name.</p>
                </div>
                <div ng-if ="calculateAge(formData.birthdate) != ''">
                    <div class="controlpers">
                        <label class=" col-sm-2">age</label>
                        <input type="text" name="age" value="" style="coloYYY" ng-model="formData.age" class="textfeildname yellow" />
                    </div>
                </div>
                <div class="controlpers">
                    <label class=" col-sm-22 ">Ethinicy</label>
                    <select  name="lstofcountryArray" ng-model="formData.ethnicity"   ng-options="ethnicity for ethnicity in ethnicityArray" class="dropdownstyling yellow arrowupdown text-carer" >
                        <option value="">--Select--</option> <!-- not selected / blank option -->

                    </select>
                </div>
                <div class="controlpers">
                    <label class=" col-sm-22 ">Language Spoken</label>
                    <select  name="lstofcountryArray"  ng-model="formData.language" class="dropdownstyling yellow arrowupdown text-carer" ng-options="lang for lang in languageArray" >
                        <option value="">--Select--</option> <!-- not selected / blank option -->

                    </select>
                </div>


            </div>
            <div class="content"  style="width: 100%">
                <div class="headerpane">Contact Details</div>
                <div class="control-label">
                    <label class=" col-sm-22 ">Contact me</label>
                    <!-- <input type="text"  name="phone" value="" ng-model="formData.phone" class="textfeildname yellow text-carer">
                    --> <table class="checkbox-btn checkboxpaading"><tr><td style=""><input type="checkbox" ng-model="formData.contctviaemail" name="contctviaemail" id="checkboxG4" class=""   ng-true-value="yes" ng-false-value="no"/>  <label for="checkboxG4" onclick>Email</label></td><td><input type="checkbox" ng-model="formData.contctviaphone" name="contctviaphone" id="checkboxG5" class=""  ng-true-value="yes" ng-false-value="no"/><label for="checkboxG5" class="">Phone</label></td></tr></table>

                </div>
                <div class="control-label" ng-show="formData.contctviaphone=='yes'">
                    <label class=" col-sm-22 ">Phone<em>*</em></label>
                    <input type="text"  name="phone"  value=""  ng-minlength="8" ng-maxlength="12" ng-pattern="/^(\d)+$/" ng-model="formData.phone" class="textfeildname yellow text-carer" ng-required="formData.contctviaphone=='yes'">
                    <p ng-show="userForm.phone.$dirty && userForm.phone.$error.required" class="help-block haserrors" >Phone Number is Required.</p>
                    <p ng-show="userForm.phone.$invalid && userForm.phone.$error.pattern " class="help-block haserrors" >Please enter valid phone number</p>
                    <p ng-show="userForm.phone.$dirty && userForm.phone.$error.maxlength" class="help-block haserrors" >Maximum length exceeded.Please enter valid number </p>
                    <p ng-show="userForm.phone.$dirty && userForm.phone.$error.minlength" class="help-block haserrors" >Please enter valid phone number (8-12) </p></div>
                <div class="control-label">
                    <label class=" col-sm-22">eMail <em>*</em></label>
                    <input type="email" name="email" value="" max="100"  ng-model="formData.email" class="textfeildname yellow text-carer" />
                    <p ng-show="userForm.email.$dirty && userForm.email.$error.required" class="help-block haserrors" >Email is Required</p>
                    <p ng-show="userForm.email.$dirty && userForm.email.$error.email" class="help-block haserrors" >Please enter valid email</p>
                </div>
                <div class="control-label">
                    <label class=" col-sm-22 ">PostCode<em>*</em></label>
                    <input type="text" name="postcode" maxlength="4" value="" ng-model="formData.postcode"  ng-pattern="/^(\d)+$/"  minlength="4" maxlength="6" id="postcde"  class="textfeildname text-carer"/>
                    <p ng-show="userForm.postcode.$dirty && userForm.postcode.$error.required" class="help-block haserrors" >Please enter PostCode.</p>
                    <p ng-show="userForm.postcode.$dirty && userForm.postcode.$error.pattern" class="help-block haserrors" >Please enter Number Only.</p></div>
                <div class="control-label">
                    <label class=" col-sm-22 ">State</label>
                    <select  name="state" ng-model="formData.state" ng-model="formData.state" class="dropdownstyling yellow arrowupdown text-carer" ng-options="title for title in statelistArray">
                        <option value="">--Select--</option> <!-- not selected / blank option -->
                    </select>
                </div>
                <div class="control-label">
                    <label class=" col-sm-22 ">Country of birth</label>
                    <select  name="lstofcountryArray"  ng-model="formData.countrybirth"  ng-options="country for country in lstofcountryArray"  class="dropdownstyling yellow arrowupdown text-carer" >
                        <option value="">--Select--</option> <!-- not selected / blank option -->
                    </select>
                </div>

            </div>

        </section>
        <section class="spotlight" style="flex-direction: row;" ng-show="showcarer">
            <div class="image" style="width: 100%;">
                <div class="headerpane">Carer Details</div>
                <div class="controlpers">
                    <label class=" col-sm-2">First Name <em>*</em></label>
                    <input type="text" name="carerfirstname" value="" ng-pattern="/^[a-zA-Z]*$/" ng-model="formData.carerfirstname" class="textfeildname yellow" ng-required="formData.usertype=='Carer'" />
                    <p ng-show="userForm.carerfirstname.$dirty && userForm.carerfirstname.$error.required" class="help-block haserrors" >Carer first name is required.</p>
                    <p ng-show="userForm.carerfirstname.$dirty && userForm.carerfirstname.$error.pattern" class="help-block haserrors" >Please enter valid Name.</p> </div>
                <div class="controlpers">
                    <label class=" col-sm-2">Last Name <em>*</em></label>
                    <input type="text"  name="carerlastname" value=""  ng-pattern="/^[a-zA-Z]*$/"   ng-model="formData.carerlastname" class="textfeildname yellow" ng-required="formData.usertype=='Carer'"/>
                    <p ng-show="userForm.carerlastname.$dirty && userForm.carerlastname.$error.required" class="help-block haserrors" >Carer last name is required.</p>
                    <p ng-show="userForm.carerlastname.$dirty && userForm.carerlastname.$error.pattern" class="help-block haserrors" >Please enter valid Name.</p></div>
                <div class="controlpers">
                    <label class=" col-sm-2">Date of Birth</label>
                    <input type="text" id="carerdatepicker" readonly="true" class="textfeildname yellow datepicker" ng-model="formData.carerbirthdate" style="cursor: hand" >
                </div>
            </div>

            <div class="content"  style="width: 100%">
                <div class="headerpane">Carer contact details</div>

                <div class="control-label">
                    <label class=" col-sm-22 ">Phone</label>
                    <input type="text"  name="carerphone" value=""  ng-pattern="/^(\d)+$/" ng-minlength="6" ng-maxlength="12" ng-model="formData.carerphone" class="textfeildname yellow text-carer">
                    <p ng-show="userForm.carerphone.$dirty && userForm.carerphone.$error.maxlength" class="help-block haserrors" >Maximum 12 character are allowed</p>
                    <p ng-show="userForm.carerphone.$invalid && userForm.carerphone.$error.pattern" class="help-block haserrors" >Please enter valid number.</p>
                    <p ng-show="userForm.carerphone.$dirty && userForm.carerphone.$error.minlength" class="help-block haserrors" >Please enter valid number (6-12).</p> </div>
                <div class="control-label">
                    <label class=" col-sm-22">eMail <em>*</em></label>
                    <input type="email" name="careremail" value=""  ng-model="formData.careremail" class="textfeildname yellow text-carer" ng-required="formData.usertype=='Carer'"/>
                    <p ng-show="userForm.careremail.$dirty && userForm.careremail.$error.required" class="help-block haserrors" >Email is Required.</p>
                    <p ng-show="userForm.careremail.$dirty && userForm.careremail.$error.email" class="help-block haserrors" >Please Enter valid email.</p> </div>
            </div>
        </section>
        <div class="btn-group surveybutton" data-toggle="tooltip" title="" style="margin-top: 5%">
            <button  style="" ui-sref="form.treatment"  class="btn btn-default profilebutn"  ng-click="personalInfoSubmit($event)"  ng-disabled="userForm.$invalid" >Next</button>
        </div>
    </section>

</div>


<style>
    .dropdownstyling
    {
        background-color: #fff !important;
        border: 1px solid #dadada !important;
    }
    .controlpers {
        float: left;
        margin: 20px 0 0 15px !important;
        width: 95%;
    }
    .control-label{

        float: left;
        margin: 20px 0 0 15px !important;
        width: 95%;
    }
    .checkboxpaading
    {
        width: 80%;
        margin-left:10px;
        margin-bottom: -7px;
    }
    .haserrors
    {
        color: #F03F3F;
        margin: auto;
        padding-top: 2%;
        width: 100%;
    }
    .has-error{
        border:1px solid #F03F3F;
    }
</style>
<script>
    $( document ).ready(function() {
        var $j = jQuery.noConflict();
        var date = new Date();
        var m = date.getMonth(), d = date.getDate(), y = date.getFullYear();
        $(".datepicker").datepicker({
            maxDate:new Date(y, m, d),
            yearRange: '-90:+1M',
            changeMonth: true,
            changeYear: true
        });
    });
</script>